{% extends "layout/basic.html" %}
{% block content %}
{{ set(UiContext, 'pdoc', pdoc) }}
<div class="row">
  <div class="medium-9 columns">
    <div class="section">
      <div class="section__header">
        <h1 class="section__title">ğŸ“Š ç»©æ•ˆå¡«æŠ¥</h1>
      </div>
      <div class="section__body typo" name="submit_section">
        <form method="post" enctype="multipart/form-data">
          <!-- æ‰‹åŠ¨æ·»åŠ CSRFä»¤ç‰Œ -->
          <input type="hidden" name="csrfToken" value="{{ handler.csrfToken }}">
          
          <!-- éšè—ä»£ç è¯­è¨€é€‰æ‹©ï¼ˆä¿ç•™ä½†éšè—ï¼‰ -->
          <div class="hasjs--hide" style="display: none;">
            {{ form.form_select({
                label:'Code language',
                options:langRange,
                name:'lang',
                value:handler.user.codeLang
              }) }}
          </div>
          <div class="row nojs--hide" id="codelang-selector" style="display: none;"></div>
          
          <!-- ç»©æ•ˆå¡«æŠ¥åŒºåŸŸ -->
          <div class="row">
            <div class="medium-6 columns">
              <label style="font-weight: bold; color: #555;">
                å®Œæˆæ•°å€¼
                <input type="number" name="filledValue" placeholder="è¯·è¾“å…¥å®é™…å®Œæˆæ•°å€¼" class="textbox" style="margin-top: 8px; background: white;" autofocus>
              </label>
              <p class="help-text">è¯·æ ¹æ®KPIæŒ‡æ ‡è¦æ±‚å¡«å†™å®é™…å®Œæˆå€¼</p>
            </div>
            <div class="medium-6 columns">
              <label style="font-weight: bold; color: #555;">
                ç›®æ ‡å‚è€ƒå€¼
                <input type="text" class="textbox" style="margin-top: 8px; background: #f5f5f5;" value="{{ pdoc.targetValue|default('') }} {{ pdoc.unit|default('') }}" disabled>
              </label>
              <p class="help-text">ç³»ç»Ÿé¢„è®¾ç›®æ ‡å€¼</p>
            </div>
          </div>

          <!-- å®Œæˆæƒ…å†µè¯´æ˜ -->
          <div style="margin-top: 15px;">
            <label style="font-weight: bold; color: #555;">
              å®Œæˆæƒ…å†µè¯´æ˜
              <textarea name="filledText" placeholder="è¯·è¯¦ç»†æè¿°å®Œæˆæƒ…å†µã€å·¥ä½œäº®ç‚¹ã€é‡åˆ°çš„å›°éš¾ç­‰..." class="textbox" style="height: 120px; margin-top: 8px; background: white;"></textarea>
            </label>
          </div>

          <!-- éšè—ä½†ä¿ç•™ä»£ç å­—æ®µï¼ˆåç«¯éœ€è¦ï¼‰ -->
          <div style="display: none;">
            {{ form.form_textarea({label:'Code', columns:12, name:'code', extra_class:'monospace', nospellcheck:true}) }}
            <textarea name="code" style="display: none;"></textarea>
          </div>

          {# æš‚æ—¶æŸ¥çœ‹æ•ˆæœ
            <div style="display: none;">
              <!-- æŠŠç»©æ•ˆæ•°æ®åˆå¹¶åˆ°codeå­—æ®µä¸­ï¼Œè®©åç«¯ä¿å­˜ -->
              <textarea name="code" style="display: none;">
            ç»©æ•ˆå¡«æŠ¥æ•°æ®ï¼š
            å®Œæˆæ•°å€¼: <filledValue>
            å®Œæˆè¯´æ˜: <filledText>
              </textarea>
            </div> #}

          <!-- è¯æ˜ææ–™ä¸Šä¼  -->
          <div class="row" style="margin-top: 15px;">
            <div class="medium-12 columns">
              <label style="font-weight: bold; color: #555;">
                è¯æ˜ææ–™
                <input type="file" name="file" style="margin-top: 8px;">
              </label>
              <p class="help-text">å¯ä¸Šä¼ å®Œæˆæƒ…å†µçš„æˆªå›¾ã€æ–‡æ¡£ã€æŠ¥è¡¨ç­‰è¯æ˜ææ–™</p>
            </div>
          </div>

          <!-- æäº¤æŒ‰é’® -->
          <div class="row"><div class="columns">
            <input type="submit" class="rounded primary button" value="ğŸ“¤ æäº¤ç»©æ•ˆ">
          </div></div>
        </form>
      </div>
    </div>
  </div>
  <div class="medium-3 columns">
    {% include "partials/problem_sidebar.html" %}
  </div>
</div>

<style>
/* éšè—ä»£ç ç›¸å…³å…ƒç´  */
#codelang-selector,
.textarea[name="code"],
.monospace {
  display: none !important;
}
</style>
{% endblock %}
